<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
	xmlns:tx="http://www.springframework.org/schema/tx" xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:corba="http://www.diamond.ac.uk/schema/gda/corba"
	xmlns:gda="http://www.diamond.ac.uk/schema/gda/gda"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
	http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd
	http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
	http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
	http://www.diamond.ac.uk/schema/gda/corba http://www.diamond.ac.uk/schema/gda/corba/gda-corba-1.0.xsd
	http://www.diamond.ac.uk/schema/gda/gda http://www.diamond.ac.uk/schema/gda/gda/gda-gda-1.0.xsd">
	<!-- acquire state -->
	<bean id="startListener" class="uk.ac.gda.client.hrpd.epicsdatamonitor.EpicsEnumDataListener">
		<property name="pvName" value="BL11I-EA-DET-03:DET:Acquire"/>
	</bean>
	<bean id="stopscannable" class="gda.device.scannable.EpicsScannable">
		<property name="pvName" value="BL11I-EA-DET-03:DET:Acquire"/>
	</bean>
	<bean id="timeRemainingListener" class="uk.ac.gda.client.hrpd.epicsdatamonitor.EpicsDoubleDataListener">
		<property name="pvName" value="BL11I-EA-DET-03:DET:TimeRemaining_RBV"/>
		<property name="poll" value="true"/>
	</bean>
	<bean id="exposureTimeListener" class="uk.ac.gda.client.hrpd.epicsdatamonitor.EpicsDoubleDataListener">
		<property name="pvName" value="BL11I-EA-DET-03:DET:AcquireTime_RBV"/>
		<property name="poll" value="true"/>
	</bean>

	<bean id="mythenprogressmonitor" class="uk.ac.gda.devices.mythen.visualisation.views.EpicsDetectorRunableWithProgress">
		<property name="exposureTimeListener" ref="exposureTimeListener"/> <!--essential-->
		<property name="timeRemainingListener" ref="timeRemainingListener"/> <!--essential-->
		<property name="epicsProcessName" value="Mythen acquiring"/> <!--essential-->
		<property name="stopScannable" ref="stopscannable"/> <!--essential-->
	</bean>
	
	<bean id="mythenliveplotfactory" class="uk.ac.gda.devices.mythen.visualisation.viewfactories.LivePlotViewFactory">
		<property name="plotName" value="MYTHEN"/>
		<property name="xAxisMin" value="0.000"/>
		<property name="xAxisMax" value="100.000"/>
		<property name="eventAdminName" value="eventadmin"/>
		<property name="epicsProgressMonitor" ref="mythenprogressmonitor"/>
		<property name="startListener" ref="startListener"/>
		<property name="exposureTimeListener" ref="exposureTimeListener"/>
		<property name="timeRemainingListener" ref="timeRemainingListener"/>
		<property name="taskName" value="Mythen acquiring"/>
		<property name="stopScannable" ref="stopscannable"/>
	</bean>

</beans>
